#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#define a 5

int main()
{
    //variáveis referentes a coleta e processamento
    float peso_mat_coletado[a],total_mat_coletado=0,valor_mat_coletado,peso_mat_processamento,cap_processamento=10;

    //variáveis referentes ao estoque
    float peso_mat_estoque, valor_mat_estoque,mat_saida_estoque,cap_estoque=10,cap_coleta=10,est_coleta=0;

    //variáveis referentes a reciclagem
    float peso_mat_reciclado,peso_mat_espera=0,valor_mat_reciclado;

    //variáveis referentes ao armazém
    float peso_mat_armazem,valor_mat_armazem,cap_armazem=10;

    //variáveis referentes ao descarte
    float peso_mat_descarte,valor_mat_descarte,cap_descarte=10;

    //variáveis referentes ao lucro e despesas
    float peso_mat_venda,valor_mat_venda,funcionarios,transporte,manutencao,lucro_reciclagem;

 int i, modalidade=0;

 char mes_maior_rendimento,dia_maior_rendimento,local_processamento,local_armazem,local_estoque,local_descarte,local_retirada,escolha;

    setlocale(LC_ALL,"");
    system("color 20");

    while(modalidade<7)
    {
        system("cls");
        printf("\n=======================================\n");
        printf("\n\tUSINA DE RECICLAGEM DE LIXO\n");
        printf("\n=======================================\n");

        if(modalidade==0)
        {
            printf("Bem-vindo!!\n");
            printf("Informe o procedimento a ser executado: ");
            printf("\n1 - Coleta\n");
            printf("2 - Triagem e Processamento\n");
            printf("3 - Estoque\n");
            printf("4 - Descarte\n");
            printf("5 - Armazém\n");
            printf("6 - Venda\n");
            printf("0 - Voltar ao menu\n\n");
            printf("Opção >> ");
            scanf("%d", &modalidade);
        }

        if(modalidade==1)
        {
            system("cls");
            printf("\n=======================================\n");
            printf("\n\tCADASTRO DA COLETA\n");
            printf("\n=======================================\n");

            //Informa o peso do material coletado de cada área
            for(i=0;i<5;i++)
            {
                printf("Informe o peso do material coletado de cada área: ");
                scanf("%f", &peso_mat_coletado[i]);

                total_mat_coletado=peso_mat_coletado[0]+peso_mat_coletado[1]+peso_mat_coletado[2]+peso_mat_coletado[3]+peso_mat_coletado[4];
            }

            system("cls");
            printf("\n=======================================\n");
            printf("\n\nCOLETA DE HOJE\n\n");
            printf("\n=======================================\n");
            printf("Área   Quantidade");
            for(i=0;i<5;i++)
            {
                printf("\n%d -    %.2f t\n",i,peso_mat_coletado[i]);
            }

            printf("\nTotal de Material Coletado: %.2f t\n",total_mat_coletado);
            printf("Deseja retornar ao menu ou prosseguir para a triagem?\n");
            printf("Digite 0 para Menu ou 2 para Triagem >> ");
            scanf("%d", &modalidade);
        }

        if(modalidade==2)
        {
            system("cls");
            printf("\n=======================================\n");
            printf("\n\tTRIAGEM E PROCESSAMENTO\n");
            printf("\n=======================================\n");

            if(total_mat_coletado==0)
            {
                printf("Favor informar a quantidade coletada primeiro ou retirar do estoque\n");
                printf("Digite 0 para Menu ou 3 para Estoque >> ");
                scanf("%d",&modalidade);
            }

            if((total_mat_coletado!=0)&&(total_mat_coletado<=cap_processamento))
            {
                printf("O total de material coletado é: %.2f",total_mat_coletado);
                printf("\nO material todo pode ser levado para triagem\n");

                for(i=0;i<4;i++)
                {
                    printf("Ordem dos Materiais: \n");
                    printf("0 - Papel\n");
                    printf("1 - Plástico\n");
                    printf("2 - Metal\n");
                    printf("3 - Vidro\n");
                    printf("4 - Orgânico\n");

                    printf("Informe o peso do material triado: ");


                    peso_mat_descarte=peso_mat_processamento-peso_mat_reciclado;
                    cap_descarte=cap_descarte+peso_mat_descarte;

                    peso_mat_espera=peso_mat_espera+peso_mat_reciclado;
                }

            }

            if(total_mat_coletado>cap_processamento)
            {
                printf("O material coletado é: %.2f\n",total_mat_coletado);
                printf("O material terá que ser destinado ao estoque da coleta\n");
                printf("Estoque disponível para armazenamento: %.2f\n",cap_coleta);

                printf("Deseja destinar quanto para o estoque? ");
                scanf("%f", &est_coleta);

                cap_coleta=cap_coleta-est_coleta;
                total_mat_coletado=total_mat_coletado-est_coleta;

                printf("\nDeseja retornar ao menu ou prosseguir para Processamento?\n");
                printf("0 - Menu    2 - Triagem >> ");
                scanf("%d",&modalidade);
            }

            if((total_mat_coletado>cap_processamento)&&(cap_coleta==0))
                {
                       printf("Estoque cheio. Prosseguir para o estoque? Digite 3 >> ");
                       scanf("%d",&modalidade);
                }

            if(peso_mat_espera>0)
            {
                printf("O material reciclado é ");
                printf("Deseja destinar o material para prensamento? ");
                printf("Capacidade total de prensamento: %.2f",cap_armazem);
                printf("Informe a quantidade em peso: ");
                scanf("%f",&peso_mat_armazem);

                cap_armazem=cap_armazem-peso_mat_armazem;

            }

        }

    if(modalidade==3)
        {
            system("cls");
            printf("\n=======================================\n");
            printf("\n\tCADASTRO DO ESTOQUE\n");
            printf("\n=======================================\n");

            printf("O estoque da coleta está com: %.2f\n",est_coleta);
            printf("O total de material coletado é: %.2f",total_mat_coletado);
            printf("");

            printf("Deseja retornar ao menu? Digite 0 ");
            scanf("%d",&modalidade);
        }

    if(modalidade==4)
        {
            system("cls");
            printf("\n=======================================\n");
            printf("\n\tCADASTRO DO DESCARTE\n");
            printf("\n=======================================\n");

            printf("Deseja retornar ao menu? Digite 0 ");
            scanf("%d",&modalidade);
        }

   if(modalidade==5)
        {
            printf("\n=======================================\n");
            printf("\n\tCADASTRO DO ARMAZÉM\n");
            printf("\n=======================================\n");

            printf("O armazém está com %.2f kg de capacidade",peso_mat_armazem);
            printf("");

            printf("Deseja retornar ao menu? Digite 0 ");
            scanf("%d",&modalidade);
        }

    if(modalidade==6)
        {
            system("cls");
            printf("\n=======================================\n");
            printf("\n\tCADASTRO DA VENDA\n");
            printf("\n=======================================\n");

            printf("Deseja retornar ao menu? Digite 0 ");
            scanf("%d",&modalidade);
        }

    }
    if(modalidade==7)
        {
            printf("Dígito incorreto\n");
            printf("Deseja retornar ao menu? Digite 0 ");
            scanf("%d",&modalidade);
        }

    return 0;
}

